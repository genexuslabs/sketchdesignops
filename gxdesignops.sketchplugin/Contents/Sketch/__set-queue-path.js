var globalThis=this,global=this;function __skpm_run(e,t){globalThis.context=t;try{var i=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t){e.exports=require("sketch/settings")},function(e,t,i){"use strict";i.r(t);var n=i(0),r=i.n(n);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=u(e);if(t){var r=u(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return l(this,i)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,i){return t&&f(e.prototype,t),i&&f(e,i),e}var b=null;var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(i,e);var t=s(i);function i(e,n,r){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Cancel",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;h(this,i);var u=NSAlert.alloc().init();return u.setIcon(b),u.setMessageText(e),""!=o&&u.setInformativeText(o),a=t.call(this,u,n),r&&(a.buttonOK=u.addButtonWithTitle(r)),s&&u.addButtonWithTitle(s),l&&u.addButtonWithTitle(l),a}return v(i,null,[{key:"setUp",value:function(e){b=NSImage.alloc().initByReferencingFile(e.plugin.urlForResourceNamed("gx.png").path())}}]),v(i,[{key:"setAction",value:function(e){this.buttonOK.setCOSJSTargetFunction(e)}},{key:"run",value:function(){this.window.setAccessoryView(this.topContainer);var e=this.window.runModal();return this.userClickedOk="1000"==e,this.userClickedCancel="1001"==e,this.userClickedThird="1002"==e,this.userClickedOk}}]),i}(function(){function e(t,i){h(this,e),this.window=t,this.buttonOK=null;var n=NSView.alloc().initWithFrame(i);this.container=n,this.topContainer=n,this.views=[],this.leftOffset=0,this.rect=i,this.y=NSHeight(this.rect),this.leftColumn=!0,this.leftColWidth=120,this.textOffset=2}return v(e,[{key:"removeLeftColumn",value:function(){this.leftColumn=!1,this.leftColWidth=0,this.textOffset=0}},{key:"copyRect",value:function(e){return NSMakeRect(e.origin.x,e.origin.y,e.size.width,e.size.height)}},{key:"initTabs",value:function(e){var t=this.rect;this.tabs=e.map((function(e){return{label:e}}));var i=NSTabView.alloc().initWithFrame(t);this.tabs.forEach((function(e,n){var r=NSViewController.alloc().init();r.originalSize=t;var a=NSView.alloc().initWithFrame(t);a.wantsLayer=!1,r.view=a;var o=NSTabViewItem.alloc().init();o.viewController=r,o.label=e.label,o.initialFirstResponder=a,i.addTabViewItem(o),e.container=a}),this),this.tabView=i,this.container=this.tabs[0].container,this.topContainer=i,this.leftOffset=20,this.y=NSHeight(this.rect)-55}},{key:"setTabForViewsCreating",value:function(e){this.container=this.tabs[e].container,this.y=NSHeight(this.rect)-55}},{key:"enableTextByID",value:function(e,t){if(e in dialog.views){var i=dialog.views[e];i.textColor=t?NSColor.controlTextColor():NSColor.disabledControlTextColor()}}},{key:"enableHintByID",value:function(e,t){if(e in dialog.views){var i=dialog.views[e];i.textColor=t?NSColor.secondaryLabelColor():NSColor.disabledControlTextColor()}}},{key:"enableControlByID",value:function(e,t){dialog.views[e].enabled=t,this.enableTextByID(e+"Label",t),this.enableHintByID(e+"Hint",t)}},{key:"getNewFrame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=NSMakeRect(this.leftColWidth,this.y-e,-1==t?NSWidth(this.rect)-10-this.leftColWidth:t,e);return this.y-=e+(i>=0?i:10),n}},{key:"addSpace",value:function(){this.getNewFrame(0)}},{key:"addFullLabel",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:40,n=null;n=NSMakeRect(0,this.y-i-this.textOffset,800,i);var r=NSScrollView.alloc().initWithFrame(n);r.hasVerticalScroller=!0,r.hasHorizontalScroller=!0,r.drawsBackground=!1,r.drawsBackground=!1;var a=NSTextView.alloc().initWithFrame(n);return a.setString(t),a.setDrawsBackground(!1),a.setEditable(!1),a.setSelectable(!0),""!=e&&(this.views[e]=a),r.addSubview(a),this.container.addSubview(r),r.documentView=a,a}},{key:"addLeftLabel",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:40,n=null;n=this.leftColumn?NSMakeRect(0,this.y-i-this.textOffset,this.leftColWidth-10,i):this.getNewFrame(i);var r=NSTextField.alloc().initWithFrame(n);return r.setStringValue(t),r.setBezeled(!1),r.setDrawsBackground(!1),r.setEditable(!1),r.setSelectable(!1),this.leftColumn&&(r.setFont(NSFont.boldSystemFontOfSize(12)),r.setAlignment(NSTextAlignmentRight)),""!=e&&(this.views[e]=r),this.container.addSubview(r),r}},{key:"addLabel",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=n?this.copyRect(n):void 0;r&&(r.size.height=i);var a=NSTextField.alloc().initWithFrame(r||this.getNewFrame(i));return a.setStringValue(t),a.setBezeled(!1),a.setDrawsBackground(!1),a.setEditable(!1),a.setSelectable(!1),""!=e&&(this.views[e]=a),this.container.addSubview(a),this.y+=5,a}},{key:"addComboBox",value:function(e){null==e.label&&(e.label=""),null==e.width&&(e.width=220),""!=e.label&&this.addLabel(id+"Label",e.label,17);var t=NSComboBox.alloc().initWithFrame(e.frame?e.frame:this.getNewFrame(20,e.width));return e.options.length>0&&(t.addItemsWithObjectValues(e.options),t.setNumberOfVisibleItems(e.options.length),t.selectItemAtIndex(0)),t.setCompletes(1),this.container.addSubview(t),this.views[e.id]=t,t}},{key:"addCheckbox",value:function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:18;i=0==i?NSOffState:NSOnState;var a=NSButton.alloc().initWithFrame(this.getNewFrame(r,-1,6));return a.setButtonType(NSSwitchButton),a.setBezelStyle(0),a.setTitle(t),a.setState(i),a.setCOSJSTargetFunction(n),this.container.addSubview(a),this.views[e]=a,a}},{key:"addTextBox",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:120;""!=t&&this.addLabel(e+"Label",t,17);var a=NSTextField.alloc().initWithFrame(this.getNewFrame(r));return a.setEditable(!0),a.setBordered(!0),a.setStringValue(i),""!=n&&a.setPlaceholderString(n),this.container.addSubview(a),this.views[e]=a,a}},{key:"addTextViewBox",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:120;""!=t&&this.addLabel(e+"Label",t,17);var r=this.getNewFrame(n),a=NSScrollView.alloc().initWithFrame(r);a.setHasVerticalScroller(!0),a.setHasHorizontalScroller(!0);var o=NSTextView.alloc().initWithFrame(r);return o.setEditable(!1),o.setString(i+""),a.addSubview(o),a.setDocumentView(o),this.container.addSubview(a),this.views[e]=o,o}},{key:"addTextInput",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:220,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;""!=t&&this.addLabel(e+"Label",t,17,a);var o=NSTextField.alloc().initWithFrame(a||this.getNewFrame(20,r));return o.setEditable(!0),o.setBordered(!0),o.setStringValue(i+""),""!=n&&o.setPlaceholderString(n),this.container.addSubview(o),this.views[e]=o,o}},{key:"addPathInput",value:function(e){"width"in e||(e.width=220),"widthSelect"in e||(e.widthSelect=50),"inlineHint"in e||(e.inlineHint=""),"askFilePath"in e||(e.askFilePath=!1),""!=e.label&&this.addLabel(e.id+"Label",e.label,17);var t=this.getNewFrame(28,e.width-e.widthSelect-5),i=copyRect(t);i.origin.x=i.origin.x+e.width-e.widthSelect,i.origin.y-=3;var n="comboBoxOptions"in e?this.addComboBox({id:e.id,options:e.comboBoxOptions,width:0,frame:t}):this.addTextInput(e.id,"",e.textValue,e.inlineHint,0,t);return this.addButton(e.id+"Select",e.labelSelect,(function(){var t=e.askFilePath?Utils.askFilePath(n.stringValue()+""):Utils.askPath(n.stringValue()+"");null!=t&&n.setStringValue(t)}),0,i),n}},{key:"addSelect",value:function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;""!=t&&this.addLabel(e+"Label",t,15);var a=NSPopUpButton.alloc().initWithFrame(this.getNewFrame(23,r));return a.addItemsWithTitles(n),a.selectItemAtIndex(i),this.container.addSubview(a),this.views[e]=a,a}},{key:"addRadioButtons",value:function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;""!=t&&this.addLabel(e+"Label",t,15),i<0&&(i=0);var a,o=this.startRadioButtions(e,i),s=d(n);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=o.btns.length,c=NSButton.alloc().initWithFrame(this.getNewFrame(18,r));c.setButtonType(NSRadioButton),c.setTitle(l),c.setState(u!=i?NSOffState:NSOnState),c.myGroup=o,c.myIndex=u,c.setCOSJSTargetFunction(o.radioTargetFunction),this.container.addSubview(c),o.btns.push(c)}}catch(e){s.e(e)}finally{s.f()}return o}},{key:"startRadioButtions",value:function(e,t){var i={id:e,btns:[],selectedIndex:t,radioTargetFunction:function(e){e.myGroup.selectedIndex=e.myIndex}};return this._buttonsGroups=i,this.views[e]=this._buttonsGroups,this._buttonsGroups}},{key:"addRadioButton",value:function(e,t,i,n){var r=this._buttonsGroups.selectedIndex==i,a=NSButton.alloc().initWithFrame(n);return a.setButtonType(NSRadioButton),""!=t&&a.setTitle(t),a.setState(r?NSOnState:NSOffState),a.myGroup=this._buttonsGroups,a.myIndex=i,a.setCOSJSTargetFunction(this._buttonsGroups.radioTargetFunction),this.views[e]=a,this.container.addSubview(a),this._buttonsGroups.btns.push(a),a}},{key:"addButton",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=NSButton.alloc().initWithFrame(r||this.getNewFrame(20,n));return a.setTitle(t),a.setBezelStyle(NSRoundedBezelStyle),a.sizeToFit(),a.setCOSJSTargetFunction(i),this.container.addSubview(a),this.views[e]=a,a}},{key:"addHint",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:23;this.y+=3;var n=NSTextField.alloc().initWithFrame(this.getNewFrame(i,-1,3));return n.setStringValue(t),n.setColor=NSColor.secondaryLabelColor(),n.setBezeled(!1),n.setDrawsBackground(!1),n.setEditable(!1),n.setSelectable(!1),n.setFont(NSFont.systemFontOfSize(10)),this.container.addSubview(n),""!=e&&(this.views[e]=n),n}},{key:"addDivider",value:function(){var e=NSMakeRect(0,this.y-1,NSWidth(this.rect)-10,1);this.y-=11;var t=NSView.alloc().initWithFrame(e);return t.setWantsLayer(1),t.layer().setBackgroundColor(CGColorCreateGenericRGB(.8,.8,.8,1)),this.container.addSubview(t),t}},{key:"addImage",value:function(e,t,i){var n=NSImageView.alloc().initWithFrame(i);return n.setImage(t),this.container.addSubview(n),this.views[e]=n,n}},{key:"addProgress",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return function(r){r=NSMakeRect(10,t.y-40,NSWidth(t.rect)-10,40);t.y-=40;var a=NSProgressIndicator.alloc().initWithFrame(r);return a.setStyle(0),a.setBezeled(!0),a.setMinValue(i),a.setMaxValue(n),a.setDoubleValue(0),a.setIndeterminate(e),t.container.addSubview(a),a}(r)}},{key:"finish",value:function(){this.window=null}}]),e}()),S="projectId",g="projectName",p="userName",w="serverUrl",m="gxBucket",x="gxS3SecretKey",F="gxS3AccessKey",N="gxS3Enabled",k="DesignOpsQueue",T="enablePreview",C="enableFonts";t.default=function(e){var t=r.a.settingForKey(S)||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),i=r.a.settingForKey(g)||"",n=r.a.settingForKey(p)||"",a=r.a.settingForKey(w)||"https://maed962my9.execute-api.us-east-1.amazonaws.com/prod/",o=1==r.a.settingForKey(N),s=1==r.a.settingForKey(T),l=1==r.a.settingForKey(C),u=r.a.settingForKey(m),d=r.a.settingForKey(x),c=r.a.settingForKey(F),h=r.a.settingForKey(k);null==h&&(h=""),null==c&&(c="<your access key here>"),null==u&&(u="<your bucket name>"),null==d&&(d="<your secret key>"),y.setUp(e);var f=new y("GeneXus Plugin Configuration",NSMakeRect(0,0,400,500),"Save","Export & Sharing options");y.setUp(e),f.addDivider(),f.addLeftLabel("","Project Id");var v=f.addTextInput("projectId","",t);f.addLeftLabel("","Project Name");var b=f.addTextInput("projectName","",i,"Project Name");f.addLeftLabel("","User Name");var B=f.addTextInput("projectUserName","",n,"GeneXus User Account Name");f.addLeftLabel("","Server Url");var O=f.addTextInput("serverUrl","",a,"Server URL");O.setEditable(!0),O.setEnabled(!0),v.setEnabled(!0),v.setEditable(!1),b.setEnabled(!0),b.setEnabled(!0),B.setEditable(!0),B.setEnabled(!0),f.addLeftLabel("","Export Options"),f.addDivider(),f.addCheckbox("enablePreview","Send Preview for Pages",s,(function(){})),f.addCheckbox("enableFonts","Send Fonts",l,(function(){})),f.addLeftLabel("","Sharing Options"),f.addDivider(),f.addCheckbox("enableS3","Enable S3 Sharing",o,(function(){var e=E.isEditable();text.setEditable(!0),E.setEnabled(!e),E.setEditable(!e),I.setEditable(!e),I.setEnabled(!e),L.setEditable(!e),L.setEnabled(!e),V.setEditable(e),V.setEnabled(e)})),f.addLeftLabel("","S3 Bucket");var E=f.addTextInput("s3Bucket","",u,"Enter bucket name");E.setEditable(o),E.setEnabled(o),f.addLeftLabel("","S3 Access Key");var I=f.addTextInput("s3AccessKey","",c,"Enter access Key");I.setEditable(o),I.setEnabled(o),f.addLeftLabel("","S3 Secret Key");var L=f.addTextInput("s3SecretKey","",d,"Enter secret Key");L.setEditable(o),L.setEnabled(o),f.addDivider(),f.addLeftLabel("","Queue Path");var V=f.addTextInput("queueDesign","",h,"Path to filesystem queue");for(V.setEditable(!o),V.setEnabled(!o),f.y-=20;;){if(!f.run())return f.finish(),!1;var W=f.views.enableS3.state(),K=f.views.enablePreview.state(),P=f.views.enableFonts.state();h=f.views.queueDesign.stringValue()+"",d=f.views.s3SecretKey.stringValue()+"",c=f.views.s3AccessKey.stringValue()+"",u=f.views.s3Bucket.stringValue()+"";var R=f.views.projectName.stringValue(),j=f.views.projectUserName.stringValue();a=O.stringValue(),r.a.setSettingForKey(w,a),r.a.setSettingForKey(S,t),r.a.setSettingForKey(g,R),r.a.setSettingForKey(p,j),r.a.setSettingForKey("DesignOpsQueue",h),r.a.setSettingForKey("gxS3Enabled",W),r.a.setSettingForKey("enablePreview",K),r.a.setSettingForKey("enableFonts",P),c.startsWith("<")||r.a.setSettingForKey("gxS3AccessKey",c),d.startsWith("<")||r.a.setSettingForKey("gxS3SecretKey",d),u.startsWith("<")||r.a.setSettingForKey("gxBucket",u);break}f.finish()}}]);if("default"===e&&"function"==typeof i)i(t);else{if("function"!=typeof i[e])throw new Error('Missing export named "'+e+'". Your command should contain something like `export function " + key +"() {}`.');i[e](t)}}catch(e){if("undefined"==typeof process||!process.listenerCount||!process.listenerCount("uncaughtException"))throw e;process.emit("uncaughtException",e,"uncaughtException")}}globalThis.onRun=__skpm_run.bind(this,"default");
//# sourceMappingURL=__set-queue-path.js.map